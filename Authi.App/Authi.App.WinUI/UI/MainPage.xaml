<Page
    x:Class="Authi.App.WinUI.UI.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:Authi.App.WinUI.Controls"
    xmlns:l10n="using:Authi.App.Logic.Localization"
    xmlns:ui="using:Authi.App.WinUI.UI"
    Loaded="OnLoaded"
    SizeChanged="OnSizeChanged"
    Unloaded="OnUnloaded">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="MainGridFirstColumn" />
            <ColumnDefinition x:Name="MainGridSecondColumn" />
        </Grid.ColumnDefinitions>
        <Border
            x:Name="HeaderBackground"
            Grid.ColumnSpan="2"
            Height="74"
            VerticalAlignment="Top"
            Background="{ThemeResource SolidBackgroundFillColorBaseBrush}" />
        <ui:CredentialsCollectionView x:Name="CredentialsCollectionView" ViewModel="{x:Bind ViewModel}" />
        <ui:MenuBarView
            x:Name="MenuBar"
            Grid.ColumnSpan="2"
            VerticalAlignment="Top"
            ViewModel="{x:Bind ViewModel}" />
        <Border x:Name="ContentFrameGridContainer">
            <Grid x:Name="ContentFrameGrid" Visibility="Collapsed">
                <Border
                    x:Name="ContentFrameCompactBackground"
                    Margin="0,0,0,-8"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource ControlElevationBorderBrush}"
                    BorderThickness="1,1,0,0"
                    CornerRadius="8,0,0,0">
                    <Border.Shadow>
                        <ThemeShadow />
                    </Border.Shadow>
                </Border>
                <Frame x:Name="ContentFrame" />
            </Grid>
        </Border>
        <StackPanel
            Grid.ColumnSpan="2"
            VerticalAlignment="Top"
            Orientation="Horizontal">
            <Image
                Width="16"
                Height="16"
                Margin="16"
                VerticalAlignment="Center"
                Source="/Assets/Square44x44Logo.altform-unplated_targetsize-256.png" />
            <TextBlock
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Style="{ThemeResource CaptionTextBlockStyle}"
                Text="{x:Bind l10n:Generic.AppName}" />
        </StackPanel>
        <controls:DialogPresenter x:Name="DialogPresenter" />
    </Grid>
</Page>

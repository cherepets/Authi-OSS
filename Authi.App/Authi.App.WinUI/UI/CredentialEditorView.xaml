<UserControl
    x:Class="Authi.App.WinUI.UI.CredentialEditorView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:Authi.App.WinUI.Controls"
    xmlns:l10n="using:Authi.App.Logic.Localization">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>

        <controls:ContentViewHeader
            x:Name="Header"
            Title="{x:Bind ViewModel.PageTitle}"
            VerticalAlignment="Top"
            CloseRequested="OnCloseRequested" />

        <ScrollView Grid.Row="1">
            <StackPanel Padding="26,8,26,26" Spacing="24">
                <StackPanel Spacing="8">
                    <TextBlock Style="{ThemeResource BodyStrongTextBlockStyle}" Text="{x:Bind l10n:Credential.Title}" />
                    <TextBox Text="{x:Bind ViewModel.Title, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>
                <StackPanel Spacing="8">
                    <TextBlock Style="{ThemeResource BodyStrongTextBlockStyle}" Text="{x:Bind l10n:Credential.Secret}" />
                    <PasswordBox Password="{x:Bind ViewModel.Secret, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>
                <Grid>
                    <Button Click="OnScanQR" Style="{ThemeResource IconButtonStyle}">
                        <FontIcon
                            VerticalAlignment="Center"
                            FontSize="20"
                            Glyph="&#xED14;" />
                    </Button>
                    <Button
                        Height="40"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Bottom"
                        Click="OnSaveClicked"
                        IsEnabled="{x:Bind ViewModel.CanSave, Mode=OneWay}"
                        Style="{ThemeResource AccentButtonStyle}">
                        <StackPanel
                            Margin="0,2,0,0"
                            Orientation="Horizontal"
                            Spacing="8">
                            <TextBlock
                                Margin="0,0,0,1"
                                Style="{ThemeResource BodyTextBlockStyle}"
                                Text="{x:Bind l10n:Generic.Save}" />
                            <FontIcon
                                VerticalAlignment="Center"
                                FontSize="20"
                                Glyph="&#xE74E;" />
                        </StackPanel>
                    </Button>
                </Grid>
            </StackPanel>
        </ScrollView>
    </Grid>
</UserControl>
